<mxfile modified="2020-10-21T00:11:01.523Z" host="app.diagrams.net" agent="5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/14.0 Safari/605.1.15" etag="SpZjQIP0dXL4_ghsWpuN" version="13.8.1" type="github">
  <diagram id="Ht1M8jgEwFfnCIfOTk4-" name="Page-1">
    <mxGraphModel dx="2514" dy="2258" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1169" pageHeight="827" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="iIuk5RWcaTYQ2RaT7IqE-15" value="" style="group" vertex="1" connectable="0" parent="1">
          <mxGeometry x="1130" y="-810" width="730" height="510" as="geometry" />
        </mxCell>
        <mxCell id="UEzPUAAOIrF-is8g5C7q-175" value="Data Warehouse VPC (us-west-2)" style="points=[[0,0],[0.25,0],[0.5,0],[0.75,0],[1,0],[1,0.25],[1,0.5],[1,0.75],[1,1],[0.75,1],[0.5,1],[0.25,1],[0,1],[0,0.75],[0,0.5],[0,0.25]];outlineConnect=0;gradientColor=none;html=1;whiteSpace=wrap;fontSize=12;fontStyle=0;shape=mxgraph.aws4.group;grIcon=mxgraph.aws4.group_aws_cloud_alt;strokeColor=#232F3E;fillColor=none;verticalAlign=top;align=left;spacingLeft=30;fontColor=#232F3E;dashed=0;labelBackgroundColor=#ffffff;" parent="iIuk5RWcaTYQ2RaT7IqE-15" vertex="1">
          <mxGeometry width="730" height="510" as="geometry" />
        </mxCell>
        <mxCell id="iIuk5RWcaTYQ2RaT7IqE-4" value="" style="group" vertex="1" connectable="0" parent="iIuk5RWcaTYQ2RaT7IqE-15">
          <mxGeometry x="20" y="49.75609756097561" width="190" height="246.29268292682926" as="geometry" />
        </mxCell>
        <mxCell id="iIuk5RWcaTYQ2RaT7IqE-1" value="" style="outlineConnect=0;fontColor=#232F3E;gradientColor=#4D72F3;gradientDirection=north;fillColor=#3334B9;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.redshift;" vertex="1" parent="iIuk5RWcaTYQ2RaT7IqE-4">
          <mxGeometry x="30" width="78" height="78" as="geometry" />
        </mxCell>
        <mxCell id="iIuk5RWcaTYQ2RaT7IqE-3" value="&lt;h1&gt;Redshift&lt;/h1&gt;&lt;p&gt;This is where all of our precious raw/processed data are stored. There is just a single copy of this.&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;" vertex="1" parent="iIuk5RWcaTYQ2RaT7IqE-4">
          <mxGeometry y="97.02439024390245" width="190" height="149.26829268292684" as="geometry" />
        </mxCell>
        <mxCell id="iIuk5RWcaTYQ2RaT7IqE-7" value="" style="group" vertex="1" connectable="0" parent="iIuk5RWcaTYQ2RaT7IqE-15">
          <mxGeometry x="760" y="111.95121951219512" width="190" height="248.78048780487805" as="geometry" />
        </mxCell>
        <mxCell id="iIuk5RWcaTYQ2RaT7IqE-5" value="" style="pointerEvents=1;shadow=0;dashed=0;html=1;strokeColor=none;fillColor=#DF8C42;labelPosition=center;verticalLabelPosition=bottom;verticalAlign=top;align=center;outlineConnect=0;shape=mxgraph.veeam2.aws_s3;" vertex="1" parent="iIuk5RWcaTYQ2RaT7IqE-7">
          <mxGeometry x="40" width="92" height="99.51219512195122" as="geometry" />
        </mxCell>
        <mxCell id="iIuk5RWcaTYQ2RaT7IqE-6" value="&lt;h1&gt;S3&lt;/h1&gt;&lt;p&gt;Temporary storage for inbound data, workspace for the Spark jobs&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;" vertex="1" parent="iIuk5RWcaTYQ2RaT7IqE-7">
          <mxGeometry y="99.51219512195122" width="190" height="149.26829268292684" as="geometry" />
        </mxCell>
        <mxCell id="iIuk5RWcaTYQ2RaT7IqE-12" value="" style="group" vertex="1" connectable="0" parent="iIuk5RWcaTYQ2RaT7IqE-15">
          <mxGeometry x="250" y="99.51219512195122" width="190" height="384.36585365853654" as="geometry" />
        </mxCell>
        <mxCell id="iIuk5RWcaTYQ2RaT7IqE-8" value="" style="outlineConnect=0;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;shape=mxgraph.aws3.athena;fillColor=#F58534;gradientColor=none;" vertex="1" parent="iIuk5RWcaTYQ2RaT7IqE-12">
          <mxGeometry x="80" width="76.5" height="95.15853658536585" as="geometry" />
        </mxCell>
        <mxCell id="iIuk5RWcaTYQ2RaT7IqE-9" value="" style="outlineConnect=0;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;shape=mxgraph.aws3.emr;fillColor=#F58534;gradientColor=none;" vertex="1" parent="iIuk5RWcaTYQ2RaT7IqE-12">
          <mxGeometry x="84.5" y="135.58536585365852" width="67.5" height="100.7560975609756" as="geometry" />
        </mxCell>
        <mxCell id="iIuk5RWcaTYQ2RaT7IqE-10" value="" style="outlineConnect=0;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;shape=mxgraph.aws3.ec2;fillColor=#F58534;gradientColor=none;" vertex="1" parent="iIuk5RWcaTYQ2RaT7IqE-12">
          <mxGeometry y="60.95121951219512" width="76.5" height="115.6829268292683" as="geometry" />
        </mxCell>
        <mxCell id="iIuk5RWcaTYQ2RaT7IqE-11" value="&lt;h1&gt;Data Processing Pipeline&lt;/h1&gt;&lt;p&gt;A combination of Pentaho and Spark jobs, as well as some Athena executions&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;" vertex="1" parent="iIuk5RWcaTYQ2RaT7IqE-12">
          <mxGeometry y="185.34146341463415" width="190" height="199.02439024390245" as="geometry" />
        </mxCell>
        <mxCell id="iIuk5RWcaTYQ2RaT7IqE-13" value="" style="endArrow=classic;startArrow=classic;html=1;" edge="1" parent="iIuk5RWcaTYQ2RaT7IqE-15" source="iIuk5RWcaTYQ2RaT7IqE-9" target="iIuk5RWcaTYQ2RaT7IqE-6">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="500" y="373.17073170731703" as="sourcePoint" />
            <mxPoint x="550" y="310.9756097560975" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="iIuk5RWcaTYQ2RaT7IqE-14" value="" style="endArrow=classic;startArrow=classic;html=1;" edge="1" parent="iIuk5RWcaTYQ2RaT7IqE-15" source="iIuk5RWcaTYQ2RaT7IqE-1" target="iIuk5RWcaTYQ2RaT7IqE-10">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="90" y="410.4878048780488" as="sourcePoint" />
            <mxPoint x="140" y="348.2926829268293" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="iIuk5RWcaTYQ2RaT7IqE-17" value="" style="group" vertex="1" connectable="0" parent="1">
          <mxGeometry x="120" y="-810" width="740" height="560" as="geometry" />
        </mxCell>
        <mxCell id="iIuk5RWcaTYQ2RaT7IqE-18" value="DEV Application VPC (us-east-1)" style="points=[[0,0],[0.25,0],[0.5,0],[0.75,0],[1,0],[1,0.25],[1,0.5],[1,0.75],[1,1],[0.75,1],[0.5,1],[0.25,1],[0,1],[0,0.75],[0,0.5],[0,0.25]];outlineConnect=0;gradientColor=none;html=1;whiteSpace=wrap;fontSize=12;fontStyle=0;shape=mxgraph.aws4.group;grIcon=mxgraph.aws4.group_aws_cloud_alt;strokeColor=#232F3E;fillColor=none;verticalAlign=top;align=left;spacingLeft=30;fontColor=#232F3E;dashed=0;labelBackgroundColor=#ffffff;" vertex="1" parent="iIuk5RWcaTYQ2RaT7IqE-17">
          <mxGeometry width="730" height="510.22222222222223" as="geometry" />
        </mxCell>
        <mxCell id="iIuk5RWcaTYQ2RaT7IqE-47" value="" style="group" vertex="1" connectable="0" parent="iIuk5RWcaTYQ2RaT7IqE-17">
          <mxGeometry x="490" y="360.8888888888889" width="190" height="168.44111111111113" as="geometry" />
        </mxCell>
        <mxCell id="iIuk5RWcaTYQ2RaT7IqE-42" value="" style="outlineConnect=0;fontColor=#232F3E;gradientColor=#F78E04;gradientDirection=north;fillColor=#D05C17;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.lambda;" vertex="1" parent="iIuk5RWcaTYQ2RaT7IqE-47">
          <mxGeometry x="66" width="78" height="78" as="geometry" />
        </mxCell>
        <mxCell id="iIuk5RWcaTYQ2RaT7IqE-46" value="&lt;h1&gt;Lambda Coordinator&lt;/h1&gt;&lt;p&gt;Orchestrates the changes&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;" vertex="1" parent="iIuk5RWcaTYQ2RaT7IqE-47">
          <mxGeometry y="19.107777777777756" width="190" height="149.33333333333334" as="geometry" />
        </mxCell>
        <mxCell id="iIuk5RWcaTYQ2RaT7IqE-48" value="" style="endArrow=classic;html=1;exitX=0.037;exitY=-0.007;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="iIuk5RWcaTYQ2RaT7IqE-17" source="iIuk5RWcaTYQ2RaT7IqE-46" target="iIuk5RWcaTYQ2RaT7IqE-45">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-130" y="560" as="sourcePoint" />
            <mxPoint x="-80" y="510" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="iIuk5RWcaTYQ2RaT7IqE-49" value="" style="outlineConnect=0;fontColor=#232F3E;gradientColor=#945DF2;gradientDirection=north;fillColor=#5A30B5;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.elasticsearch_service;" vertex="1" parent="iIuk5RWcaTYQ2RaT7IqE-17">
          <mxGeometry x="310" y="372.09000000000003" width="78" height="78" as="geometry" />
        </mxCell>
        <mxCell id="iIuk5RWcaTYQ2RaT7IqE-52" value="&lt;h1&gt;Elasticsearch&lt;/h1&gt;&lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;" vertex="1" parent="iIuk5RWcaTYQ2RaT7IqE-17">
          <mxGeometry x="120" y="351.09000000000003" width="190" height="120" as="geometry" />
        </mxCell>
        <mxCell id="iIuk5RWcaTYQ2RaT7IqE-51" value="" style="group" vertex="1" connectable="0" parent="iIuk5RWcaTYQ2RaT7IqE-17">
          <mxGeometry x="250" y="49.99555555555557" width="190" height="250.13333333333338" as="geometry" />
        </mxCell>
        <mxCell id="iIuk5RWcaTYQ2RaT7IqE-44" value="" style="outlineConnect=0;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;shape=mxgraph.aws3.emr;fillColor=#F58534;gradientColor=none;" vertex="1" parent="iIuk5RWcaTYQ2RaT7IqE-51">
          <mxGeometry x="80" width="67.5" height="100.80000000000001" as="geometry" />
        </mxCell>
        <mxCell id="iIuk5RWcaTYQ2RaT7IqE-45" value="&lt;h1&gt;Data Processor Cluster&lt;/h1&gt;&lt;p&gt;EMR Cluster (using spot instances) runs a simple Spark job to glue together various rows into a single document&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;" vertex="1" parent="iIuk5RWcaTYQ2RaT7IqE-51">
          <mxGeometry y="100.80000000000003" width="190" height="149.33333333333334" as="geometry" />
        </mxCell>
        <mxCell id="iIuk5RWcaTYQ2RaT7IqE-35" value="" style="endArrow=classic;html=1;" edge="1" parent="1" source="iIuk5RWcaTYQ2RaT7IqE-1" target="iIuk5RWcaTYQ2RaT7IqE-33">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1040" y="-670" as="sourcePoint" />
            <mxPoint x="1090" y="-720" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="iIuk5RWcaTYQ2RaT7IqE-36" value="UNLOAD" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="iIuk5RWcaTYQ2RaT7IqE-35">
          <mxGeometry x="0.0369" y="-4" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="iIuk5RWcaTYQ2RaT7IqE-41" value="" style="group" vertex="1" connectable="0" parent="1">
          <mxGeometry x="950" y="-170" width="790" height="410" as="geometry" />
        </mxCell>
        <mxCell id="iIuk5RWcaTYQ2RaT7IqE-37" value="" style="shape=ext;double=1;rounded=1;whiteSpace=wrap;html=1;fillColor=none;" vertex="1" parent="iIuk5RWcaTYQ2RaT7IqE-41">
          <mxGeometry width="790" height="410" as="geometry" />
        </mxCell>
        <mxCell id="iIuk5RWcaTYQ2RaT7IqE-38" value="" style="image;image=img/lib/atlassian/Bitbucket_Logo.svg;fillColor=none;" vertex="1" parent="iIuk5RWcaTYQ2RaT7IqE-41">
          <mxGeometry width="57" height="50" as="geometry" />
        </mxCell>
        <mxCell id="iIuk5RWcaTYQ2RaT7IqE-39" value="BitBucket" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="iIuk5RWcaTYQ2RaT7IqE-41">
          <mxGeometry x="70" y="15" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="iIuk5RWcaTYQ2RaT7IqE-43" value="" style="endArrow=classic;html=1;" edge="1" parent="1" source="iIuk5RWcaTYQ2RaT7IqE-46" target="iIuk5RWcaTYQ2RaT7IqE-1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1010" y="-480" as="sourcePoint" />
            <mxPoint x="1060" y="-530" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="iIuk5RWcaTYQ2RaT7IqE-32" value="" style="group" vertex="1" connectable="0" parent="1">
          <mxGeometry x="890" y="-760" width="190" height="248.8888888888889" as="geometry" />
        </mxCell>
        <mxCell id="iIuk5RWcaTYQ2RaT7IqE-33" value="" style="pointerEvents=1;shadow=0;dashed=0;html=1;strokeColor=none;fillColor=#DF8C42;labelPosition=center;verticalLabelPosition=bottom;verticalAlign=top;align=center;outlineConnect=0;shape=mxgraph.veeam2.aws_s3;" vertex="1" parent="iIuk5RWcaTYQ2RaT7IqE-32">
          <mxGeometry x="40" width="92" height="99.55555555555556" as="geometry" />
        </mxCell>
        <mxCell id="iIuk5RWcaTYQ2RaT7IqE-34" value="&lt;h1&gt;DMZ Bucket&lt;/h1&gt;&lt;p&gt;A private bucket for temporarily storing the unloaded (us-east-1)&amp;nbsp;&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;" vertex="1" parent="iIuk5RWcaTYQ2RaT7IqE-32">
          <mxGeometry y="99.55555555555556" width="190" height="149.33333333333334" as="geometry" />
        </mxCell>
        <mxCell id="iIuk5RWcaTYQ2RaT7IqE-50" value="" style="endArrow=classic;startArrow=classic;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="1" source="iIuk5RWcaTYQ2RaT7IqE-44" target="iIuk5RWcaTYQ2RaT7IqE-33">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="580" y="-630" as="sourcePoint" />
            <mxPoint x="630" y="-680" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="iIuk5RWcaTYQ2RaT7IqE-54" value="" style="outlineConnect=0;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;shape=mxgraph.aws3.vpc_peering;fillColor=#F58536;gradientColor=none;" vertex="1" parent="1">
          <mxGeometry x="950.5" y="-413" width="69" height="72" as="geometry" />
        </mxCell>
        <mxCell id="iIuk5RWcaTYQ2RaT7IqE-55" value="" style="endArrow=none;dashed=1;html=1;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="760" y="-310" as="sourcePoint" />
            <mxPoint x="810" y="-360" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="iIuk5RWcaTYQ2RaT7IqE-56" value="" style="endArrow=none;dashed=1;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="UEzPUAAOIrF-is8g5C7q-175" target="iIuk5RWcaTYQ2RaT7IqE-54">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1060" y="-320" as="sourcePoint" />
            <mxPoint x="1110" y="-370" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="iIuk5RWcaTYQ2RaT7IqE-57" value="" style="endArrow=none;dashed=1;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="iIuk5RWcaTYQ2RaT7IqE-18" target="iIuk5RWcaTYQ2RaT7IqE-54">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="920" y="-330" as="sourcePoint" />
            <mxPoint x="950" y="-410" as="targetPoint" />
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
